<!DOCTYPE html> 
<html>
	<head> 
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		
		<link rel="stylesheet" href="WeatherForecast/css/weather.css">
		<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
		<script type="text/javascript" src="WeatherForecast/js/AJAXweather.js"></script>
		
		<style>
		
			#weatherBox{
				overflow:auto;
			}
			
			#refresh{
				background:#ddd;
				width:166px;
				border:1px solid grey;
				padding:6px 9px;
				text-align:center;
				cursor:pointer;
			}
			
			.inputfelder{
				position: absolute;
				bottom: 10px;
				right: 10px;
			}
			
			input, #refresh{
				border:1px solid grey;
				padding:5px;
				margin:3px;
			}

		</style>
		
		<script type="text/javascript">
			
			var i = 0;
			
			$(function() {
				
				showWeather();
				
				$('#refresh').click(function(){
					showWeather();
				});
				
				setInterval(showWeather, 3.6*Math.pow(10, 6));
			});
	
			
			function showWeather(){
				
				console.log('versuch');
				i++;
				
				locationValue		= $('#location').val();
				languageValue		= $('#language').val();
				daysValue			= $('#days').val();
				
				//	////////////////////////////////////////////////////////////////////////////////// AJAXweather PlugIn
				$('#weatherBox').AJAXweather({
					key			: 'Type here your key', // www.WorldWeatherOnline.com
					location	: locationValue,
					language	: languageValue,
					days		: daysValue,
					PHPpath		: 'WeatherForecast/php',
					ICONpath	: 'WeatherForecast/icons',
					callback	: function(){
						console.log('fresh weather ' + i);
					}
				});
			}
	
		</script>	
	</head>
	
	<body>
		<div id="weatherBox"></div>
		<div class="inputfelder">
			<div id="refresh">Wetter ?!</div>
			<input id="language" value="EN" style="width: 15px;">
			<input id="location" value="California" style="width: 100px;">
			<input id="days" value="3" style="width: 7px;">
		</div>
	</body>

</html>

